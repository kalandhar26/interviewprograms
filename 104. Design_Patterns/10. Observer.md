## Observer Pattern

- When one object (Subject) changes state, it should automatically notify all dependent objects (Observers).

## PseudoCode
```text
1. Create a Subject interface (methods to attach, detach and notify observers)
2. Create a concrete Subject class (Stores state and a list of Observers).
3. Create an Observer interface - defines an update() method.
4. Create an Concrete Observer classes - react to changes in Subject.
5. Client code - subject adds observers, changes state and observers get notified automatically.
```

```java
// Step 1: Create a Subject interface
interface Subject {
    void attach(Observer o);
    void detach(Observer o);
    void notifyObservers();
}

// Step 2: Create a Concrete Subject class
class ConcreteSubject implements Subject {
    private final List<Observer> observers = new ArrayList<>();
    private String state;

    public void setState(String state) {
        this.state = state;
        notifyObservers(); // whenever state changes, notify all
    }

    public String getState() {
        return state;
    }

    @Override
    public void attach(Observer o) {
        observers.add(o);
    }

    @Override
    public void detach(Observer o) {
        observers.remove(o);
    }

    @Override
    public void notifyObservers() {
        for (Observer o : observers) {
            o.update(state);
        }
    }
}

// Step 3: Create an Observer interface
interface Observer {
    void update(String newState);
}

// Step 4: Create Concrete Observer classes
class ConcreteObserverA implements Observer {
    @Override
    public void update(String newState) {
        System.out.println("Observer A received update: " + newState);
    }
}

class ConcreteObserverB implements Observer {
    @Override
    public void update(String newState) {
        System.out.println("Observer B received update: " + newState);
    }
}

// Step 5: Client code
public class ObserverPatternDemo {
    public static void main(String[] args) {
        ConcreteSubject subject = new ConcreteSubject();

        Observer obsA = new ConcreteObserverA();
        Observer obsB = new ConcreteObserverB();

        subject.attach(obsA);
        subject.attach(obsB);

        subject.setState("State 1"); // both observers notified
        subject.setState("State 2"); // both observers notified
    }
}

```
