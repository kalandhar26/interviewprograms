## Prototype Pattern

**What it does:** Lets you clone existing objects instead of creating new ones from scratch.
**Real-life example:** Like photocopying a document – you duplicate the original instead of writing a new one.
**defination** The Prototype pattern is used when the cost of creating a new object is expensive. Instead of creating a
new object from scratch, this pattern allows you to clone existing objects.
It’s a creational pattern that helps improve performance by avoiding repeated expensive object creation.
It's especially useful when object initialization is heavy or when object structures are complex.
- Create new objects by cloning an existing (prototype) instance instead of new. Useful when object creation is expensive or when we need many similar objects.
## PseudoCode

```text
1. Create a Prototype Interface with a clone method())
2. Create a concrete class that implement prototype interface (override the clone method to return a copy of the object)
3. Client code uses clone method to make a new objects instead of new.
```

```java

// Step 1: Define a Point record that supports cloning
record Point(int x, int y) implements Cloneable {
    @Override
    public Point clone() {
        // return a new Point with same values
        return new Point(x, y);
    }
}

// Step 2: Define a Shape class that contains multiple Points
class Shape implements Cloneable {
    private final List<Point> points = new ArrayList<>();

    public void addPoint(Point p) {
        points.add(p);
    }

    public List<Point> getPoints() {
        return points;
    }

    // Step 3: Override clone() to perform a deep copy
    @Override
    public Shape clone() {
        Shape copy = new Shape();
        // clone each point separately
        points.forEach(p -> copy.addPoint(p.clone()));
        return copy;
    }
}

// Step 4: Client code uses clone() instead of new
public class PrototypeDemo {
    public static void main(String[] args) {
        // create template shape
        Shape template = new Shape();
        template.addPoint(new Point(0, 0));
        template.addPoint(new Point(1, 1));

        // clone it
        Shape copy = template.clone();
        copy.addPoint(new Point(2, 2));

        // Output
        System.out.println("Template has " + template.getPoints().size() + " points");
        System.out.println("Prototype copy has " + copy.getPoints().size() + " points");
    }
}
```
Output:
```text
Template has 2 points
Prototype copy has 3 points
```