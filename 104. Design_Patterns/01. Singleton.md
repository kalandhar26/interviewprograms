## Singleton Pattern

- The Singleton Pattern is a way to make sure a class has only one instance in your entire program, and you can access
  that instance from anywhere. Think of it like having a single, shared resource everyone uses, such as a company’s main
  printer. No matter who needs to print, they all use the same printer.
- Solves the problem of shared, expensive, or stateful resources (DB connection, config, logging).
- It’s useful when you want to control access to a resource that’s expensive to create (like a database connection) or
  when you need to ensure consistent behavior across your app (like a configuration settings manager). The Singleton
  Pattern prevents multiple instances from being created and provides one global point to access that single instance.

## PseudoCode Singleton

### Lazy initialization
```java
public class Singleton {

    private static Singleton instance;

    private Singleton() {
    }

    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton(); // ❌ Race condition
        }
        return instance;
    }
}
```
- If two threads enter getInstance() at the same time → two objects can be created.

### Thread-safe Lazy initialization (Double-Checked Locking – Recommended)

```java
public class Singleton {

    private static volatile Singleton instance;

    private Singleton() {
    }

    public static Singleton getInstance() {
        if (instance == null) {                // First check (no lock)
            synchronized (Singleton.class) {
                if (instance == null) {        // Second check (with lock)
                    instance = new Singleton();
                }
            }
        }
        return instance;
    }
}

class SingletonDemo {
    static void run() {
        Singleton s1 = Singleton.getInstance();
        Singleton s2 = Singleton.getInstance();
        System.out.println("Singleton same? " + (s1 == s2));
    }
}
```
- Why volatile? Prevents half-initialized object visibility
- Ensures correct behavior in multi-threaded environments

### Eager Initialization (Thread Safe By default)

```java
public class Singleton {

    private static final Singleton instance = new Singleton();

    private Singleton() {
    }

    public static Singleton getInstance() {
        return instance;
    }
}
```
- JVM loads the class once → instance is created once.
