# Java Stream Methods

- Streams are introduced in java 8. They allow processing of collections in a functional style chaining multiple
  operations togather.
- Streams do not store data, they process data.
- Streams are consumed once - you cannot reuse a stream after a terminal operation.
- Stream operations can be chained.
- prefer parallelStreams only when it can truely improve performance [large data + non-thread blocking code]

## Key Interfaces

- Stream<T>
- Instream, LongStream, DoubleStream

## Creation of Streams

| Method               | Description                                    | Example                          |
|----------------------|------------------------------------------------|----------------------------------|
| stream()             | Converts a collection into a sequential stream | list.stream()                    |
| parallelStream()     | converts collection into a parallel stream     | list.parallelStream()            |
| Stream.of(..)        | creates a stream from values                   | Stream.of(1,2,3)                 |
| Arrays.stream(array) | Creates a stream from a array                  | Arrays.stream(new int[] {1,2,3}) |

## Intermediate Operations (returns a new Stream, lazy evaluation)

- Intermediate Operations are lazy - no processing happens until a terminal operation is called.

| Method               | Description                                                                           | Example                                    |
|----------------------|---------------------------------------------------------------------------------------|--------------------------------------------|
| `filter(Predicate)`  | Keep only elements that satisfy the predicate                                         | `stream.filter(x -> x > 5)`                |
| `map(Function)`      | Transform each element with the provided function                                     | `stream.map(String::toUpperCase)`          |
| `flatMap(Function)`  | Flatten one-to-many structures into a single stream                                   | `stream.flatMap(list -> list.stream())`    |
| `distinct()`         | Remove duplicates (based on `equals()`)                                               | `stream.distinct()`                        |
| `sorted()`           | Sort by natural order                                                                 | `stream.sorted()`                          |
| `sorted(Comparator)` | Sort with a custom comparator                                                         | `stream.sorted(Comparator.comparing(...))` |
| `limit(n)`           | Truncate the stream to at most `n` elements                                           | `stream.limit(5)`                          |
| `skip(n)`            | Discard the first `n` elements                                                        | `stream.skip(3)`                           |
| `peek(Consumer)`     | Perform an action on each element without consuming the stream (mainly for debugging) | `stream.peek(System.out::println)`         |

## Terminal Operations (triggers Stream Processing)

| Method                   | Description                                                        | Typical Usage                                |
|--------------------------|--------------------------------------------------------------------|----------------------------------------------|
| `collect(Collector)`     | Gather elements into a collection or other container               | `stream.collect(Collectors.toList())`        |
| `forEach(Consumer)`      | Apply an action to each element                                    | `stream.forEach(System.out::println)`        |
| `toArray()`              | Convert the stream into an array                                   | `stream.toArray()`                           |
| `reduce(BinaryOperator)` | Combine elements into a single result via an associative operation | `stream.reduce(0, Integer::sum)`             |
| `count()`                | Count the number of elements                                       | `stream.count()`                             |
| `min(Comparator)`        | Return the smallest element according to the comparator            | `stream.min(Comparator.naturalOrder())`      |
| `max(Comparator)`        | Return the largest element according to the comparator             | `stream.max(Comparator.naturalOrder())`      |
| `anyMatch(Predicate)`    | Return `true` if **any** element matches the predicate             | `stream.anyMatch(x -> x > 0)`                |
| `allMatch(Predicate)`    | Return `true` if **all** elements match the predicate              | `stream.allMatch(x -> x > 0)`                |
| `noneMatch(Predicate)`   | Return `true` if **no** element matches the predicate              | `stream.noneMatch(x -> x < 0)`               |
| `findFirst()`            | Return the **first** element (order-preserving)                    | `stream.findFirst()` (returns `Optional<T>`) |
| `findAny()`              | Return **any** element (useful in parallel streams)                | `stream.findAny()` (returns `Optional<T>`)   |

## Collectors (used with collect)

| Collector Factory                          | Purpose                                               | Example                                                            |
|--------------------------------------------|-------------------------------------------------------|--------------------------------------------------------------------|
| `Collectors.toList()`                      | Collect elements into a `List`                        | `stream.collect(Collectors.toList())`                              |
| `Collectors.toSet()`                       | Collect elements into a `Set`                         | `stream.collect(Collectors.toSet())`                               |
| `Collectors.toMap(keyMapper, valueMapper)` | Collect elements into a `Map`                         | `stream.collect(Collectors.toMap(Person::getId, Person::getName))` |
| `Collectors.groupingBy(Function)`          | Group elements by a key extractor function            | `names.stream().collect(Collectors.groupingBy(String::length))`    |
| `Collectors.partitioningBy(Predicate)`     | Partition the stream into two groups (`true`/`false`) | `stream.collect(Collectors.partitioningBy(x -> x > 10))`           |

## Premitive Specializations

| Primitive Stream | Factory / Range                | Key Methods                            |
|------------------|--------------------------------|----------------------------------------|
| `IntStream`      | `IntStream.range(1, 5)`        | `sum()`, `average()`, `min()`, `max()` |
| `LongStream`     | `LongStream.rangeClosed(1, 5)` | `sum()`, `average()`, `min()`, `max()` |
| `DoubleStream`   | `DoubleStream.of(1.2, 3.4)`    | `sum()`, `average()`, `min()`, `max()` |

