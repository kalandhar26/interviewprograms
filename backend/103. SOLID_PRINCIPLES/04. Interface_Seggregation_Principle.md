# Interface Segregation Principle (ISP)

## Scenario

- A bank provides multiple services: Account Operations, Loan Operations, Card Operations, Statement & Reporting,
  Notifications
- **Wrong approach:** One giant interface for all banking operations.

## Before ISP (Violation)

### Fat Interface

```java
public interface BankingServiceBeforeISP {

    // Account operations
    void openAccount();

    void closeAccount();

    void deposit();

    void withdraw();

    // Loan operations
    void applyLoan();

    void approveLoan();

    void forecloseLoan();

    // Card operations
    void issueDebitCard();

    void blockCard();

    // Reporting
    void generateStatement();

    void exportStatement();

    // Notifications
    void sendSms();

    void sendEmail();
}
```

### Savings Account Service Forced to Implement Everything

```java
public class SavingsAccountService implements BankingServiceBeforeISP {

    // Used
    @Override
    public void openAccount() {
        System.out.println("Savings account opened");
    }

    @Override
    public void deposit() {
        System.out.println("Deposit done");
    }

    @Override
    public void withdraw() {
        System.out.println("Withdrawal done");
    }

    // Unused / Dummy implementations

    @Override
    public void applyLoan() {
        System.out.println("Not applicable for Savings Account");
    }

    @Override
    public void approveLoan() {
        System.out.println("Not applicable");
    }

    @Override
    public void forecloseLoan() {
        System.out.println("Not applicable");
    }

    @Override
    public void issueDebitCard() {
        System.out.println("Handled by Card Service");
    }

    @Override
    public void blockCard() {
        System.out.println("Handled by Card Service");
    }

    @Override
    public void generateStatement() {
        System.out.println("Statement generated");
    }

    @Override
    public void exportStatement() {
        System.out.println("Statement exported");
    }

    @Override
    public void sendSms() {
        System.out.println("SMS sent");
    }

    @Override
    public void sendEmail() {
        System.out.println("Email sent");
    }

    @Override
    public void closeAccount() {
        System.out.println("Savings account closed");
    }
}
```

### Problems in Banking Systems

- Classes depend on methods they don’t use
- Dummy implementations hide bugs
- Changes to one method impact many services
- Poor readability and maintenance
- Violates ISP

## After ISP (Correct Banking Design)

- Split interfaces based on business capabilities

### Step 1 : Account Operations Interface

```java
public interface AccountOperations {
    void openAccount();

    void closeAccount();

    void deposit();

    void withdraw();
}
```

### Step 2 : Loan Operations Interface

```java
public interface LoanOperations {
    void applyLoan();

    void approveLoan();

    void forecloseLoan();
}
```

### Step 3 : Card Operations Interface

```java
public interface CardOperations {
    void issueDebitCard();

    void blockCard();
}
```

### Step 4 : Reporting Interface

```java
public interface StatementOperations {
    void generateStatement();

    void exportStatement();
}
```

### Step 5 : Notification Interface

```java
public interface NotificationService {
    void sendSms();

    void sendEmail();
}

```

### Step 6 : Savings Account Service (Only What It Needs)

```java
public class SavingsAccountService
        implements AccountOperations, StatementOperations, NotificationService {

    @Override
    public void openAccount() {
        System.out.println("Savings account opened");
    }

    @Override
    public void closeAccount() {
        System.out.println("Savings account closed");
    }

    @Override
    public void deposit() {
        System.out.println("Deposit successful");
    }

    @Override
    public void withdraw() {
        System.out.println("Withdrawal successful");
    }

    @Override
    public void generateStatement() {
        System.out.println("Savings account statement generated");
    }

    @Override
    public void exportStatement() {
        System.out.println("Savings statement exported");
    }

    @Override
    public void sendSms() {
        System.out.println("SMS notification sent");
    }

    @Override
    public void sendEmail() {
        System.out.println("Email notification sent");
    }
}
```

### Step 7 : Loan Service (Focused Responsibility)

```java
public class LoanService implements LoanOperations, NotificationService {

    @Override
    public void applyLoan() {
        System.out.println("Loan application submitted");
    }

    @Override
    public void approveLoan() {
        System.out.println("Loan approved");
    }

    @Override
    public void forecloseLoan() {
        System.out.println("Loan foreclosed");
    }

    @Override
    public void sendSms() {
        System.out.println("Loan SMS notification sent");
    }

    @Override
    public void sendEmail() {
        System.out.println("Loan Email notification sent");
    }
}

```

### Step 8 : Card Service

```java
public class CardService implements CardOperations, NotificationService {

    @Override
    public void issueDebitCard() {
        System.out.println("Debit card issued");
    }

    @Override
    public void blockCard() {
        System.out.println("Card blocked");
    }

    @Override
    public void sendSms() {
        System.out.println("Card SMS sent");
    }

    @Override
    public void sendEmail() {
        System.out.println("Card Email sent");
    }
}

```

## Real-World Banking Benefits

✔ Clean service boundaries
✔ Easier auditing and compliance
✔ Safer microservices design
✔ Better team ownership
✔ Faster development & testing