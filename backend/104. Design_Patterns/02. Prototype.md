## Prototype Pattern

- Prototype design pattern lets you clone existing objects instead of creating new ones from scratch.
- It's especially useful when object initialization is heavy or when object structures are complex.
- Create new objects by cloning an existing (prototype) instance instead of new.
- Useful when object creation is expensive or when we need many similar objects.

## PseudoCode

```text
1. Create a Prototype Interface with a clone method())
2. Create a concrete class that implement prototype interface (override the clone method to return a copy of the object)
3. Client code uses clone method to make a new objects instead of new.
```

```java

// Step 1: Create a Prototype interface with a clone method
interface Prototype {
    Prototype clone();
}

```

```java
// Step 2: Create a concrete class that implements Prototype
class ConcretePrototype implements Prototype {
    private String name;

    public ConcretePrototype(String name) {
        this.name = name;
    }

    @Override
    public Prototype clone() {
        return new ConcretePrototype(this.name);
    }

    public void showName() {
        System.out.println("Object name: " + name);
    }
}
```

```java
// Step 3: Client uses clone instead of new
public class PrototypeSimpleDemo {
    public static void main(String[] args) {
        ConcretePrototype original = new ConcretePrototype("Original");
        ConcretePrototype copy = (ConcretePrototype) original.clone();

        original.showName(); // Object name: Original
        copy.showName();     // Object name: Original
    }
}
```
------------------------

## Example 2

- Bank that creates a BankAccount
- Creating account involves complex process
- Customer Details, KYC verification, Default Limits, Default Charges, Risk rules, Compliance checks
- This setup is expensive and time-consuming.

### Without ProtoType Pattern

- Everytime an new bank account is opened, Customer need to fill customer details, kyc verification, Run Validations,
  Set limits, Configure Rules.
- This process is slow , repeated work and complex code.

### With Prototype Pattern

- BankApplication creates one template account.
- Savings Account Template
- Current Account Template
- When customer comes just copy (clone) the templates and can modify customer specific data.

### Step 1: Prototype Interface

```java
interface BankAccountPrototype {
    BankAccountPrototype clone();
}
```

### Step 2: Concrete Account Class

```java
class BankAccount implements BankAccountPrototype {

    private String accountType;
    private double dailyLimit;
    private double interestRate;

    public BankAccount(String accountType, double dailyLimit, double interestRate) {
        this.accountType = accountType;
        this.dailyLimit = dailyLimit;
        this.interestRate = interestRate;
    }

    @Override
    public BankAccountPrototype clone() {
        return new BankAccount(accountType, dailyLimit, interestRate);
    }

    public void showDetails() {
        System.out.println(accountType +
                " | Limit: " + dailyLimit +
                " | Interest: " + interestRate);
    }
}

```

### Step 3: Client (Bank System)

```java
public class BankPrototypeDemo {

    public static void main(String[] args) {

        // Bank creates templates
        BankAccount savingsTemplate =
                new BankAccount("Savings", 50000, 4.0);

        BankAccount currentTemplate =
                new BankAccount("Current", 200000, 0.0);

        // New customers
        BankAccount customer1 =
                (BankAccount) savingsTemplate.clone();

        BankAccount customer2 =
                (BankAccount) currentTemplate.clone();

        customer1.showDetails();
        customer2.showDetails();
    }
}

```

- output:

```text
Savings | Limit: 50000 | Interest: 4.0
Current | Limit: 200000 | Interest: 0.0
```

- Bank prepares account templates
- New customer comes
- Bank copies the template
- Customer gets account instantly

## Real Banking Systems Use Prototype For

✔ Account templates
✔ Loan products
✔ KYC configurations
✔ Risk profiles
✔ Transaction rules
✔ Fee structures
